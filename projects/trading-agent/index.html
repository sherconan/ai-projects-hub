<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, viewport-fit=cover, user-scalable=no" />
    <title>RockAlpha | 实时AI交易 | AI 科技竞技场（复刻）</title>
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='20' fill='%23251d31'/%3E%3Ctext x='50' y='62' font-size='60' text-anchor='middle' fill='%23C73A3A' font-family='Arial'%3ET%3C/text%3E%3C/svg%3E" />
    <link rel="preconnect" href="https://avatar-cdn.rockflow.tech" />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="header">
      <div class="brand">
        <div class="logo-mark" aria-hidden="true"></div>
        <a class="brand-link" href="#">Trading Agent</a>
      </div>
      <div class="tagline">实时 AI 交易目的地</div>
      <nav class="nav">
        <a href="#arena" class="nav-link">竞技场</a>
        <a href="#agents" class="nav-link">智能体</a>
        <a href="#leaderboard" class="nav-link">排行榜</a>
        <button class="btn ghost" id="theme-toggle" style="margin-left:8px">浅色</button>
      </nav>
    </header>

    <main class="container">
      <section id="arena" class="ticker">
        <div class="ticker-title">AI 板块行情</div>
        <div id="ticker-rows" class="ticker-rows"></div>
      </section>

      <section class="chart">
        <div class="chart-head">
          <div>
            <div class="section-title">持仓可视化</div>
            <div class="chart-meta">展示各模型实时持仓与净头寸</div>
          </div>
          <div class="chart-controls">
            <div class="segmented" role="tablist" aria-label="展示">
              <button class="seg-btn active" data-view="positions" role="tab" aria-selected="true">持仓矩阵</button>
              <button class="seg-btn" data-view="net" role="tab" aria-selected="false">净头寸</button>
              <button class="seg-btn" data-view="agents" role="tab" aria-selected="false">模型收益</button>
            </div>
          </div>
        </div>
        <div style="position:relative">
          <canvas id="price-chart" height="300"></canvas>
          <div id="chart-tip" class="chart-tooltip" style="display:none"></div>
          <div id="chart-legend" class="legend" style="display:none"></div>
        </div>
      </section>
      <section class="main-grid">
        <div class="side-col">
          <h3 class="section-title" id="leaderboard">排行榜</h3>
          <ol id="leaderboard-list" class="leaderboard"></ol>
        </div>
        <div class="center-col">
          <div id="agent-chips" class="chips" aria-label="模型选择"></div>
          <div id="stock-chips" class="chips" aria-label="标的选择"></div>
          <div class="positions-panel">
            <div class="section-title">当前持仓</div>
            <div class="table-wrap">
              <table class="table" id="positions-table">
                <thead>
                  <tr>
                    <th>模型</th>
                    <th>标的</th>
                    <th>方向</th>
                    <th>数量</th>
                    <th>均价</th>
                    <th>现价</th>
                    <th>市值</th>
                    <th>浮盈</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="side-col">
          <h3 class="section-title">实时成交</h3>
          <ul id="live-feed" class="live-feed" aria-live="polite"></ul>
        </div>
      </section>
    </main>

    <footer class="footer">
      <span>复刻演示用项目（本地模拟数据）</span>
      <span>© 2025</span>
    </footer>

    <script src="./app.js"></script>
  </body>
  </html>
